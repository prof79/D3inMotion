<!DOCTYPE html>
<html lang="en">

<head>

    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">

    <title>Top 20 Internet Viz</title>

</head>

<body>
    
    <h1>Top 20 Internet Viz</h1>

    <svg width="960" height="500"></svg>

    <script src="https://d3js.org/d3.v4.min.js"></script>

    <script>
    
    const parseDataRow = function (dataRow) {

        // We only require a subset of the data.
        const netUsersWithCommas =
            dataRow['Internet Users 31 Dec 2017'];
        
        return {
            country: dataRow['Country or Region'],
            // Bad practice but works with this data set ...
            netUsers: +netUsersWithCommas.replace(/,/g, '')
        };
    };

    const top5 = function (list) {

        return list.slice(0, 5);
    };

    d3.csv('top20Internet.csv', parseDataRow, function (data) {

        console.log(top5(data));
    });
    
    </script>

</body>

</html>
